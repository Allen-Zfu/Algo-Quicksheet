\ProvidesPackage{python}[2015/07/07 v1.0 python macros]
\usepackage[utf8]{inputenc}
\usepackage[T1, T2A]{fontenc}

% Default fixed font does not support bold face
\DeclareFixedFont{\ttb}{T2A}{txtt}{bx}{n}{7} % for bold
\DeclareFixedFont{\ttm}{T2A}{txtt}{m}{n}{7}  % for normal

% Custom colors
\usepackage{color}
\definecolor{deepblue}{rgb}{0,0,0.5}
\definecolor{deepred}{rgb}{0.6,0,0}
\definecolor{deepgreen}{rgb}{0,0.5,0}

\usepackage{listings}
% Python style for highlighting
\newcommand\pythonstyle{
  \lstset{
    language=Python,
    basicstyle=\ttb,
    otherkeywords={assert, del, self, yield},  % Add keywords here
    keywordstyle=\ttm\color{deepblue},
    columns=flexible,
    literate={-}{\ttb{-}}1,
    keepspaces=true,
    commentstyle=\ttm,
    emph={__init__},  % Custom highlighting
    emphstyle=\ttm\color{deepred},  % Custom highlighting style
    stringstyle=\color{deepgreen},
    % frame=tb,  % Any extra options here
    showstringspaces=false            
  }
}

% Python environment
\lstnewenvironment{python}[1][]{
  \pythonstyle
  \lstset{#1}
}{}

% Python for external files
\newcommand\pythonexternal[2][]{
  {
    \pythonstyle
    \lstinputlisting[#1]{#2}
  }
}

% Python for inline
\newcommand\pythoninline[1]{
  {
    \pythonstyle\lstinline!#1!
  }
}